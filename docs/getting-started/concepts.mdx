---
title: Core Concepts
description: Understand the fundamental concepts behind StarHash USSD flows.
---

# Core Concepts

Understanding these concepts will help you build better USSD applications.

## USSD Basics

USSD (Unstructured Supplementary Service Data) is a protocol used by GSM phones to communicate with service providers. Unlike SMS, USSD creates a real-time session.

### Key Characteristics

- **Session-based**: Each interaction is part of a continuous session
- **Real-time**: Responses are instant, no store-and-forward
- **Menu-driven**: Users navigate by entering numbers
- **Text-only**: No images, limited to 182 characters per screen
- **Timeout**: Sessions expire after ~3 minutes of inactivity

## Flows

A **flow** is a complete USSD application. It defines all the screens, logic, and data handling for your service.

In Studio, a flow looks like a flowchart:

```
┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│   Welcome   │ ──→ │  Get Name   │ ──→ │   Confirm   │
│   (Menu)    │     │   (Input)   │     │   (End)     │
└─────────────┘     └─────────────┘     └─────────────┘
```

### Flow Properties

| Property | Description |
|----------|-------------|
| Name | Human-readable name for your flow |
| Start Node | The first screen users see |
| Nodes | All the screens and actions in your flow |

## Nodes

**Nodes** are the building blocks of a flow. Each node represents a screen or action.

### Node Types

<Tabs>
  <TabItem label="Menu" value="menu">
    Displays options for the user to choose from.

    **What users see:**
    ```
    Select an option:
    1. Check Balance
    2. Send Money
    ```

    Each option connects to a different node.
  </TabItem>

  <TabItem label="Input" value="input">
    Prompts the user to enter data.

    **What users see:**
    ```
    Enter phone number:
    ```

    The response is saved to a variable you can use later.
  </TabItem>

  <TabItem label="Display" value="display">
    Shows a message and continues to the next node.

    **What users see:**
    ```
    Processing your request...
    ```

    Automatically moves to the next node.
  </TabItem>

  <TabItem label="End" value="end">
    Terminates the session with a final message.

    **What users see:**
    ```
    Thank you for using our service!
    ```

    The session ends and the user is disconnected.
  </TabItem>

  <TabItem label="Branch" value="branch">
    Routes to different nodes based on conditions.

    **Example conditions:**
    - If balance > 100 → go to "High Balance" node
    - If balance > 0 → go to "Low Balance" node
    - Otherwise → go to "Zero Balance" node
  </TabItem>

  <TabItem label="Action" value="action">
    Executes backend logic like API calls.

    **Example actions:**
    - Fetch user balance from your API
    - Send an SMS confirmation
    - Process a payment
  </TabItem>
</Tabs>

## Sessions

A **session** represents a single user interaction from dial to end.

### Session Lifecycle

```
User dials *123# → Session created → Flow starts
       ↓
User enters "1" → Input processed → Next node
       ↓
User enters "2" → Input processed → Next node
       ↓
End node reached → Session terminated
```

### Session States

| State | Description |
|-------|-------------|
| Active | Session is ongoing |
| Completed | User reached an End node |
| Timeout | Session expired due to inactivity |
| Error | An error occurred during execution |

## Variables

**Variables** store data during a session. They can be:

- **User input**: Data entered by the user
- **System variables**: Phone number, session ID, timestamp
- **API responses**: Data fetched from external services

### Using Variables

Reference variables in node content using `${variableName}`:

```
Welcome, ${name}!
Your balance is ${balance} GHS.
```

### System Variables

| Variable | Description |
|----------|-------------|
| `$phone` | User's phone number |
| `$sessionId` | Current session ID |
| `$timestamp` | Current timestamp |
| `$provider` | USSD provider name |

## Providers

**Providers** are USSD gateways that connect your application to telecom networks. StarHash supports:

- Africa's Talking
- Hubtel
- Arkesel
- Nalo

Each provider has a different format. StarHash handles the translation automatically—you just design your flow once.

## Next Steps

<CardGroup>
  <Card title="Flow Builder" icon="pencil" href="/studio/flow-builder">
    Learn to use the visual editor
  </Card>
  <Card title="Node Reference" icon="shapes" href="/studio/nodes">
    Detailed documentation for all node types
  </Card>
</CardGroup>
